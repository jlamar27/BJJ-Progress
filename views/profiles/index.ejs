<!-- views/profile.ejs -->
<%- include('../partials/header') %>

<div class="user-profile">
  <h1 class="profile-title">User Profile</h1>

  <div class="profile-info">
    <p class="profile-detail"><span class="detail-label">Name:</span> <%= userProfile.name %></p>
    <p class="profile-detail"><span class="detail-label">Age:</span> <%= userProfile.age %></p>
    <p class="profile-detail"><span class="detail-label">Belt Rank:</span> <%= userProfile.beltRank %></p>
    <p class="profile-detail"><span class="detail-label">Email:</span> <%= userProfile.email %></p>
    <!-- <p class="profile-detail"><span class="detail-label">Avatar:</span> <img src="<%= userProfile.avatar %>" alt="User Avatar"></p> -->
  </div>

  <div class="profile-sessions">
    <p class="profile-heading">Training Sessions:</p>
    <table class="session-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        <% trainingSessions.forEach(function(session) { %>
        <tr>
          <td><%= session.date %></td>
          <td>
            <a href="/profiles/<%= userProfile._id %>/sessions/<%= session._id %>">View Details</a>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>

  <div class="profile-techniques">
    <p class="profile-heading">Techniques:</p>
    <table class="technique-table">
      <thead>
        <tr>
          <th>Technique Name</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% userProfile.techniques.forEach(function(technique) { %>
        <tr>
          <td><%= technique.name %></td>
          <td><a href="/profiles/<%= userProfile._id %>/removeTech/<%= technique._id %>" class="remove-link">Remove</a></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>

  <div class="profile-actions">
    <a href="/profiles/<%= userProfile._id %>/trainingSession" class="action-link">Create Training Session</a>
    <a href="<%= userProfile._id %>/addTech" class="action-link">Add Techniques</a>
  </div>
</div>

<%- include('../partials/footer') %>
